<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head"></head>
<body>
    <div th:replace="fragments/common :: navbar"></div>
    
    <div class="content-wrapper">
        <div class="container">
            <!-- Kartu statistik -->
            <!-- Video section - updated -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <h3 class="text-center mb-4">Video OKK UI</h3>
                    <div class="card p-4">
                        <div class="video-container">
                            <div class="ratio ratio-16x9">
                                <iframe 
                                    src="https://www.youtube.com/embed/9rgKN3eBOAM" 
                                    title="OKK UI Video"
                                    id="youtubeVideo"
                                    frameborder="0"
                                    allowfullscreen>
                                </iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card deskripsi dengan tombol -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card p-4">
                        <p>
                            OKK UI atau Orientasi Kehidupan Kampus Universitas Indonesia merupakan kegiatan pengenalan dan pembinaan kehidupan kampus kepada mahasiswa baru Universitas Indonesia. OKK merupakan awal terciptanya kebersamaan antar seluruh mahasiswa untuk dapat saling mengenal dan memperkenalkan arah kontribusi yang terdapat di Universitas Indonesia.
                        </p>
                        <button class="btn btn-primary" onclick="location.href='about'">
                            Lihat Lebih Lanjut
                        </button>
                    </div>
                </div>
            </div>
            <!-- Timeline -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card p-4">
                        <h3 class="text-center mb-4">Timeline OKK UI</h3>
                        <div class="timeline-slider">
                            <div class="timeline-track">
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <h4>Tahap 1</h4>
                                    <p>Pembukaan OKK UI</p>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <h4>Tahap 2</h4>
                                    <p>Pengenalan Kampus</p>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <h4>Tahap 3</h4>
                                    <p>Kegiatan Kelompok</p>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <h4>Tahap 4</h4>
                                    <p>Penutupan</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            

            <!-- Tambahkan sebelum tag penutup container -->

<!-- Modal Popup 1 -->
<div class="modal fade" id="popup1" tabindex="-1" aria-labelledby="popup1Label" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background-color: var(--salmon-pink);">
      <div class="modal-header border-0">
        <h5 class="modal-title text-white w-100 text-center fs-3 fw-bold" id="popup1Label">MERCH CANTIKNYA KAKA</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center py-4">
        <a href="/merch" class="btn btn-outline-light btn-lg px-5">LIHAT MERCH</a>
      </div>
    </div>
  </div>
</div>

<!-- Modal Popup 2 -->
<div class="modal fade" id="popup2" tabindex="-1" aria-labelledby="popup2Label" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background-color: #0c4c8a;">
      <div class="modal-header border-0">
        <h5 class="modal-title text-white w-100 text-center fs-3 fw-bold" id="popup2Label">DILIHAT DULU AJA KAKA</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center py-4">
        <a href="/merch" class="btn btn-outline-light btn-lg px-5">LIHAT MERCH</a>
      </div>
    </div>
  </div>
</div>

<!-- Modal Popup 3 -->
<div class="modal fade" id="popup3" tabindex="-1" aria-labelledby="popup3Label" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background-color: #808080;">
      <div class="modal-header border-0">
        <h5 class="modal-title text-white w-100 text-center fs-3 fw-bold" id="popup3Label">YAKIN NIHHH??</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center py-4">
        <a href="/merch" class="btn btn-outline-light btn-lg px-5">LIHAT MERCH</a>
      </div>
    </div>
  </div>
</div>

    <!-- Tambahkan sebelum tag penutup container -->



            <!-- Elemen audio untuk background music (disembunyikan) -->
            <audio id="bgMusic" autoplay loop style="display:none;">
                <source src="/audio/background.mp3" type="audio/mpeg">
            </audio>
        </div>
    </div>
    
    <!-- Script YouTube API dan pengaturan background music -->
    <script>
    // Add YouTube API script
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('youtubeVideo', {
            events: {
                'onReady': function(event) {
                    // Mute background music ketika video diputar
                    event.target.addEventListener('onStateChange', function(e) {
                        const bgMusic = document.getElementById('bgMusic');
                        if (e.data === YT.PlayerState.PLAYING) {
                            bgMusic.volume = 0;
                        } else {
                            bgMusic.volume = 0.3;
                        }
                    });
                }
            }
        });
    }
    
    // Horizontal scroll using mouse wheel untuk timeline
    document.querySelector('.timeline-slider').addEventListener('wheel', function(e) {
        if (e.deltaY !== 0) {
            this.scrollLeft += e.deltaY;
            e.preventDefault();
        }
    });
    
    // Atur volume background music
    window.addEventListener('DOMContentLoaded', () => {
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.3;
    });
    </script>
    
    <!-- Tambahkan script ini di bagian bawah, sebelum tag penutup </body> -->
<script>
    // Script untuk popup berurutan
    document.addEventListener('DOMContentLoaded', function() {
        // Cek apakah popup sudah ditampilkan dalam session ini
        if (!sessionStorage.getItem('popupsShown')) {
            // Tampilkan popup pertama
            const popup1 = new bootstrap.Modal(document.getElementById('popup1'));
            popup1.show();
            
            // Ketika popup pertama ditutup, tampilkan popup kedua
            document.getElementById('popup1').addEventListener('hidden.bs.modal', function() {
                const popup2 = new bootstrap.Modal(document.getElementById('popup2'));
                popup2.show();
                
                // Ketika popup kedua ditutup, tampilkan popup ketiga
                document.getElementById('popup2').addEventListener('hidden.bs.modal', function() {
                    const popup3 = new bootstrap.Modal(document.getElementById('popup3'));
                    popup3.show();
                    
                    // Setelah popup ketiga ditutup, tandai bahwa semua popup sudah ditampilkan
                    document.getElementById('popup3').addEventListener('hidden.bs.modal', function() {
                        sessionStorage.setItem('popupsShown', 'true');
                    });
                });
            });
        }
        
        // Membuat seluruh area popup bisa diklik untuk redirect ke merch
        document.querySelectorAll('.modal-content').forEach(modal => {
            modal.style.cursor = 'pointer';
            modal.addEventListener('click', function(e) {
                // Jika yang diklik bukan tombol close
                if (!e.target.classList.contains('btn-close')) {
                    window.location.href = '/merch';
                }
            });
        });
    });
</script>

    <div th:replace="fragments/common :: footer"></div>
</body>
</html>

<style>
    /* Video styling */
    .video-section {
        width: 100%;
        margin: 0 auto;
    }
    
    .video-container {
        padding: 0;
        background-color: #000;
    }
    
    .ratio-16x9 {
        aspect-ratio: 16/9;
        height: 500px; /* Tambahkan tinggi yang lebih besar */
    }
    
    /* Ensure video has same width as timeline card */
    @media (min-width: 768px) {
        .video-section {
            width: 100%;
            max-width: 100%;
        }
    }
    
    /* Remove unnecessary video-card class styling */
    .card {
        overflow: hidden;
        width: 100%; /* Pastikan card memiliki lebar penuh */
    }
</style>